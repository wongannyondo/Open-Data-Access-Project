
var json = {
	"system": {"id": "431396dc-fb17-4555-9aa3-5d48891b03a8", "rev": "67a9f7a", "version": "2.30", "date": "2019-06-13T16:02:53.352"},
	"organisationUnits": [{"created":"2019-05-18T18:06:35.330","lastUpdated":"2019-05-25T21:35:32.846","name":"AGRICULTURE","id":"Op0xRZY72UO","shortName":"AGRICULTURE","path":"/yTcm30fuCXx/Op0xRZY72UO","featureType":"NONE","openingDate":"2001-02-20T00:00:00.000","parent":{"id":"yTcm30fuCXx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:18:00.464","lastUpdated":"2019-05-18T18:18:00.486","name":"Banja La Mtsogolo","id":"IK9HLWe3IYC","shortName":"BLM","path":"/yTcm30fuCXx/H0sTutoMNRx/IK9HLWe3IYC","featureType":"NONE","openingDate":"2019-05-18T00:00:00.000","parent":{"id":"H0sTutoMNRx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:16:45.134","lastUpdated":"2019-05-18T18:16:45.159","name":"Chancellor College Clinic","id":"GgLrHxh0Peb","shortName":"CCC","path":"/yTcm30fuCXx/H0sTutoMNRx/GgLrHxh0Peb","featureType":"NONE","openingDate":"2019-05-18T00:00:00.000","parent":{"id":"H0sTutoMNRx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:21:23.362","lastUpdated":"2019-05-18T18:21:23.384","name":"Cobbe Barracks Health Centre","id":"pOyLJltufaO","shortName":"CBHC","path":"/yTcm30fuCXx/H0sTutoMNRx/pOyLJltufaO","featureType":"NONE","openingDate":"2019-05-18T00:00:00.000","parent":{"id":"H0sTutoMNRx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:06:02.923","lastUpdated":"2019-05-25T21:39:31.183","name":"EDUCATION","id":"jZwFnKuoiEr","shortName":"EDUCATION","path":"/yTcm30fuCXx/jZwFnKuoiEr","featureType":"NONE","openingDate":"1999-12-08T00:00:00.000","parent":{"id":"yTcm30fuCXx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:05:29.500","lastUpdated":"2019-05-25T21:43:40.108","name":"HEALTH","id":"H0sTutoMNRx","shortName":"HEALTH","path":"/yTcm30fuCXx/H0sTutoMNRx","featureType":"NONE","openingDate":"1999-10-18T00:00:00.000","parent":{"id":"yTcm30fuCXx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:23:07.657","lastUpdated":"2019-05-18T18:23:07.677","name":"Matawale Health Centre","id":"Pv9cscXe92H","shortName":"MHC","path":"/yTcm30fuCXx/H0sTutoMNRx/Pv9cscXe92H","featureType":"NONE","openingDate":"2019-05-18T00:00:00.000","parent":{"id":"H0sTutoMNRx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:20:00.055","lastUpdated":"2019-05-18T18:20:00.082","name":"Nansawa Health Centre","id":"UEJDR2pWdEj","shortName":"NHC","path":"/yTcm30fuCXx/H0sTutoMNRx/UEJDR2pWdEj","featureType":"NONE","openingDate":"2019-05-18T00:00:00.000","parent":{"id":"H0sTutoMNRx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:17:14.610","lastUpdated":"2019-05-18T18:25:48.172","name":"Police College Clinic","id":"xPcax9XyWv7","shortName":"PCC","path":"/yTcm30fuCXx/H0sTutoMNRx/xPcax9XyWv7","featureType":"NONE","openingDate":"2019-05-18T00:00:00.000","parent":{"id":"H0sTutoMNRx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:07:15.750","lastUpdated":"2019-05-25T21:47:48.725","name":"SOCIAL WELFARE","id":"AjKttZIDSAv","shortName":"SOCIAL WELFARE","path":"/yTcm30fuCXx/AjKttZIDSAv","featureType":"NONE","openingDate":"1999-12-27T00:00:00.000","parent":{"id":"yTcm30fuCXx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:18:59.694","lastUpdated":"2019-05-18T18:18:59.715","name":"Thondwe Health Centre","id":"lpKASZMnVIt","shortName":"THC","path":"/yTcm30fuCXx/H0sTutoMNRx/lpKASZMnVIt","featureType":"NONE","openingDate":"2019-05-18T00:00:00.000","parent":{"id":"H0sTutoMNRx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:15:53.986","lastUpdated":"2019-05-18T18:15:54.004","name":"Zomba Central Hospital","id":"YVC7t1ypWDH","shortName":"ZCH","path":"/yTcm30fuCXx/H0sTutoMNRx/YVC7t1ypWDH","featureType":"NONE","openingDate":"2019-05-18T00:00:00.000","parent":{"id":"H0sTutoMNRx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-17T05:50:51.071","lastUpdated":"2019-05-25T21:31:23.858","name":"Zomba City Council","id":"yTcm30fuCXx","shortName":"ZA","path":"/yTcm30fuCXx","featureType":"NONE","openingDate":"2019-05-17T00:00:00.000","lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]},{"created":"2019-05-18T18:22:14.299","lastUpdated":"2019-05-18T18:22:14.330","name":"Zomba Prison Health Centre","id":"Damjb2ofWvS","shortName":"ZPHC","path":"/yTcm30fuCXx/H0sTutoMNRx/Damjb2ofWvS","featureType":"NONE","openingDate":"2019-05-18T00:00:00.000","parent":{"id":"H0sTutoMNRx"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"attributeValues":[],"translations":[]}],
	"dataElements": [{"lastUpdated":"2019-05-25T21:55:25.249","id":"bnYOiwtIEGD","created":"2019-05-18T11:36:25.660","name":"Confirmed cases receiving anti malarial medication","shortName":"Confirmed cases receiving malarial medication","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Confirmed cases receiving first-line anti malarial medication","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:55:52.706","id":"wUIoXicmEwz","created":"2019-05-18T11:23:17.030","name":"Confirmed malaria cases","shortName":"Confirmed malaria cases","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Confirmed malaria cases","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:56:14.225","id":"J1V9SvQi5qA","created":"2019-05-18T11:56:14.351","name":"Confirmed malaria cases(microscopy)","shortName":"Confirmed malaria cases(microscopy)","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Confirmed malaria cases(microscopy)","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:26:47.053","id":"kG6hGLGGbVL","created":"2019-05-18T12:05:03.004","name":"Inpatient deaths","shortName":"Inpatient deaths","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Total Inpatient deaths:all causes","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:56:54.305","id":"gi8pO63dS9Q","created":"2019-05-18T12:01:38.951","name":"Inpatient malaria deaths","shortName":"Inpatient malaria deaths","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Total Inpatient malaria deaths","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:57:15.147","id":"USuBjWTPquz","created":"2019-05-18T12:03:34.921","name":"Inpatients","shortName":"Inpatients","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Total Inpatients:all causes","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:57:45.016","id":"im5VK9Ch0s4","created":"2019-05-18T12:10:18.881","name":"LA 1X6 received","shortName":"LA 1X6 received","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"LA 1X6 ","zeroIsSignificant":false,"categoryCombo":{"id":"SRutekGT1bH"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:58:10.099","id":"Rm79i1JEXMl","created":"2019-05-18T12:11:39.934","name":"LA 2X6 received","shortName":"LA 2X6 received","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"LA 2X6 ","zeroIsSignificant":false,"categoryCombo":{"id":"SRutekGT1bH"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:58:29.371","id":"AgUKiFO3zZT","created":"2019-05-18T12:13:59.922","name":"LA 3X6 received","shortName":"LA 3X6 received","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"LA 3X6 ","zeroIsSignificant":false,"categoryCombo":{"id":"SRutekGT1bH"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-18T12:57:58.686","id":"gh0hNzMVS7a","created":"2019-05-18T12:15:21.571","name":"LA 4X6 received","shortName":"LA 4X6 received","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"LA 4X6 ","zeroIsSignificant":false,"categoryCombo":{"id":"SRutekGT1bH"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[4]},{"lastUpdated":"2019-05-25T21:58:48.912","id":"jP4A3qSewoc","created":"2019-05-18T12:21:53.336","name":"LLIN's distributed to new-borne babies","shortName":"LLIN's distributed to new-borne babies","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"LLIN's distributed to new-borne babies","zeroIsSignificant":false,"categoryCombo":{"id":"SRutekGT1bH"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:59:15.322","id":"Nclm7LUc34Z","created":"2019-05-18T12:17:23.661","name":"LLIN's distributed to pregnant women","shortName":"LLIN's distributed to pregnant women","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"LLIN's distributed to pregnant women","zeroIsSignificant":false,"categoryCombo":{"id":"SRutekGT1bH"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T21:59:35.010","id":"SjBzTKJitha","created":"2019-05-18T11:48:04.518","name":"Positive Malaria cases(microscopy)","shortName":"Positive Malaria cases(microscopy)","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Positive Malaria cases(microscopy)","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-18T11:45:11.131","id":"RG2XDmzWECE","created":"2019-05-18T11:45:11.131","name":"Positive malaria cases(mRDT)","shortName":"Positive malaria cases(mRDT)","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Positive malaria cases(mRDT)","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[4]},{"lastUpdated":"2019-05-25T22:00:25.259","id":"QTxyMxMzQZW","created":"2019-05-18T11:57:52.064","name":"Presumed (clinically diagonosed) malaria cases","shortName":"Presumed (clinically diagonosed) malaria cases","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Presumed (clinically diagonosed) malaria cases","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T22:02:06.109","id":"R54Rg3MsSbk","created":"2019-05-18T11:24:49.632","name":"Presumed malaria cases(clinically diagonosed)","shortName":"presumed cases","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Presumed malaria cases(clinically diagonosed)","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T22:01:39.243","id":"Sd0TeC4VzqW","created":"2019-05-18T11:39:13.248","name":"Presumed malaria cases receiving anti malarial medication","shortName":"presumed cases receiving anti malarial medication","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Presumed malaria cases receiving first-line anti malarial medication","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T22:02:25.145","id":"tmYKtW0mxPK","created":"2019-05-18T12:25:22.829","name":"RDTs received","shortName":"RDTs received","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"RDTs ","zeroIsSignificant":false,"categoryCombo":{"id":"SRutekGT1bH"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-18T12:59:34.088","id":"hp9X2yKdp43","created":"2019-05-18T12:23:27.388","name":"SP Received","shortName":"SP Received","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"SP ","zeroIsSignificant":false,"categoryCombo":{"id":"SRutekGT1bH"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[4]},{"lastUpdated":"2019-05-25T22:03:30.995","id":"qZ7zh9SeAJd","created":"2019-05-18T11:46:38.562","name":"Suspected malaria cases tested(microscopy)","shortName":"Suspected malaria cases tested(microscopy)","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Suspected malaria cases tested(microscopy)","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]},{"lastUpdated":"2019-05-25T22:03:16.174","id":"PSaHYc6EqvW","created":"2019-05-18T11:43:40.342","name":"Suspected malaria cases tested(mRDT)","shortName":"Suspected cases tested","aggregationType":"SUM","domainType":"AGGREGATE","publicAccess":"rw------","valueType":"NUMBER","formName":"Suspected malaria cases tested(mRDT)","zeroIsSignificant":false,"categoryCombo":{"id":"FVbhoWBHwrG"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"translations":[],"userGroupAccesses":[],"attributeValues":[],"userAccesses":[],"legendSets":[],"aggregationLevels":[3]}],
	"dataSets": [{"lastUpdated":"2019-06-12T22:21:41.793","id":"A9sqGZIEUtr","created":"2019-05-17T16:03:34.766","name":"Malaria Health Facility Monthly Reporting Form","validCompleteOnly":false,"dataElementDecoration":false,"publicAccess":"rw------","notifyCompletingUser":true,"noValueRequiresComment":false,"skipOffline":false,"compulsoryFieldsCompleteOnly":false,"fieldCombinationRequired":false,"renderHorizontally":false,"renderAsTabs":false,"mobile":false,"version":52,"timelyDays":15,"periodType":"Monthly","openFuturePeriods":0,"expiryDays":0,"dataEntryForm":{"id":"F7fv32mkRhe"},"categoryCombo":{"id":"bjDvmb4bfuf"},"lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"dataSetElements":[{"dataElement":{"id":"USuBjWTPquz"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"bnYOiwtIEGD"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"im5VK9Ch0s4"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"Nclm7LUc34Z"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"Sd0TeC4VzqW"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"jP4A3qSewoc"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"Rm79i1JEXMl"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"R54Rg3MsSbk"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"J1V9SvQi5qA"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"tmYKtW0mxPK"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"PSaHYc6EqvW"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"QTxyMxMzQZW"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"gh0hNzMVS7a"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"hp9X2yKdp43"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"RG2XDmzWECE"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"qZ7zh9SeAJd"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"AgUKiFO3zZT"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"wUIoXicmEwz"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"kG6hGLGGbVL"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"gi8pO63dS9Q"},"dataSet":{"id":"A9sqGZIEUtr"}},{"dataElement":{"id":"SjBzTKJitha"},"dataSet":{"id":"A9sqGZIEUtr"}}],"compulsoryDataElementOperands":[],"translations":[],"dataInputPeriods":[],"organisationUnits":[{"id":"xPcax9XyWv7"},{"id":"GgLrHxh0Peb"},{"id":"Pv9cscXe92H"},{"id":"YVC7t1ypWDH"},{"id":"IK9HLWe3IYC"},{"id":"UEJDR2pWdEj"},{"id":"Damjb2ofWvS"},{"id":"pOyLJltufaO"},{"id":"lpKASZMnVIt"}],"userGroupAccesses":[],"attributeValues":[],"indicators":[{"id":"GnAd3XbMBIy"},{"id":"JOSirfdYVD2"},{"id":"xyzUMCvVWAn"},{"id":"FW0GHlJC0j7"},{"id":"oVFwXWKBr5c"}],"userAccesses":[],"legendSets":[]}],
	"categoryOptions": [{"created":"2019-05-17T15:56:07.479","lastUpdated":"2019-05-17T15:56:07.479","name":"< 5years","id":"ydQnAtYmPV2","shortName":"< 5years","publicAccess":"rw------","startDate":"2019-05-17T00:00:00.000","lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"userGroupAccesses":[],"attributeValues":[],"translations":[],"userAccesses":[],"organisationUnits":[]},{"created":"2019-05-17T15:56:31.598","lastUpdated":"2019-05-17T15:56:31.598","name":"+ 5years","id":"cPuLU51mYhI","shortName":"+ 5years","publicAccess":"rw------","startDate":"2019-05-17T00:00:00.000","lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"userGroupAccesses":[],"attributeValues":[],"translations":[],"userAccesses":[],"organisationUnits":[]},{"code":"default","created":"2019-05-15T09:30:40.398","lastUpdated":"2019-05-15T09:30:41.833","name":"default","id":"xYerKDKCefk","shortName":"default","publicAccess":"rwrw----","userGroupAccesses":[],"attributeValues":[],"translations":[],"userAccesses":[],"organisationUnits":[]},{"created":"2019-05-18T12:30:08.169","lastUpdated":"2019-05-18T12:55:13.187","name":"Quantity dispensed","id":"qc1J2PqUAeB","shortName":"Quantity dispensed","publicAccess":"rw------","startDate":"2019-05-18T00:00:00.000","lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"userGroupAccesses":[],"attributeValues":[],"translations":[],"userAccesses":[],"organisationUnits":[]},{"created":"2019-05-18T12:29:05.319","lastUpdated":"2019-05-18T12:55:13.187","name":"Unit of issue","id":"AOAXpbjLtkc","shortName":"Unit of issue","publicAccess":"rw------","startDate":"2019-05-18T00:00:00.000","lastUpdatedBy":{"id":"M5zQapPyTZI"},"user":{"id":"M5zQapPyTZI"},"userGroupAccesses":[],"attributeValues":[],"translations":[],"userAccesses":[],"organisationUnits":[]}]
}
// function getData() {
//     return $.getJSON("http://localhost:8080/dhis/api/dataSets/A9sqGZIEUtr.json?fields=dataSetElements[dataElement[id,name,categoryCombo[categoryOptionCombos[id,name]]]");
// }

// console.log(json.dataSets[0].dataSetElements[0].dataElement.id);
// for (var i = 0; i < json.dataSets.length; i++) {
// 	// console.log(json.dataSets[i])
// 	for (var j = 0; j < json.dataSets[i].dataSetElements.length; j++) {
// 		console.log(json.dataSets[i].dataSetElements[j].dataElement.id)
// 	}
// }
// console.log(json.organisationUnits)
// var closure = function() {

	var formContainer = document.getElementById("myForm");

	var form = document.createElement("form");
	// name of the form: use id
	form.id = json.dataSets[0].dataEntryForm.id;
	// form.name = data.dataSets[0].dataEntryForm.name;
	form.name = "malaria";

	// set form label
	var formLabel = document.createElement("label");
	formLabel.textContent = json.dataSets[0].name; // data set name
	form.appendChild(formLabel);

	// next line
	var br = document.createElement("br");
	form.appendChild(br);

	// organisationUnits
	var orgLabel = document.createElement("label");
	orgLabel.textContent = "Select Organisation Unit: "
	form.appendChild(orgLabel);
	var selectOrgUnits = document.createElement("select");
	selectOrgUnits.name = "organisationUnit";
	// create org options
	json.organisationUnits.map(function(organisationUnit) {
		var orgOption = document.createElement("option");
		orgOption.textContent = organisationUnit.name;
		orgOption.id = organisationUnit.id;
		selectOrgUnits.appendChild(orgOption);
	})
	form.appendChild(selectOrgUnits);

	// console.log(data.dataSets[0].categoryCombo.id)
	// build list element
	json.dataElements.map(function(dataElement, index) {
		// console.log(dataElement.categoryCombo.id)
		// console.log(dataElement.categoryCombo.name)
		var element = document.createElement("div");
		element.textContent = dataElement.name + ":"
		element.id = dataElement.id;
		form.appendChild(element);
		// categoryOptions
		if(dataElement.categoryCombo.id === "FVbhoWBHwrG") {
			json.categoryOptions.map(function(categoryOption, indx) {
				var input = document.createElement("input");
				// console.log(categoryOption);
				// console.log(categoryOption.name);
				if(indx < 2) {
					input.type = "number";
					input.name = categoryOption.name;
					input.id = dataElement.categoryCombo.id + "." + categoryOption.id;
					element.appendChild(input);
				}
			});
		} else if(dataElement.categoryCombo.id === "SRutekGT1bH") {
			json.categoryOptions.map(function(categoryOption, pos) {
				var input = document.createElement("input");
				// console.log(categoryOption);
				// console.log(categoryOption.name);
				if(pos > 2) {
					input.type = "number";
					input.name = categoryOption.name;
					input.id = dataElement.categoryCombo.id + "." + categoryOption.id;
					element.appendChild(input);
				}
			});
		} else {

		}

	});

	// form submit button
	var submitButton = document.createElement("input");
	submitButton.id = "submit_form";
	submitButton.type = "button";
	submitButton.value = "Submit";
	submitButton.name = "submit";
	submitButton.placeholder = "Submit";
	form.appendChild(submitButton);

	// attach on submit event
	// form.onsubmit = function() {
	// 	console.log("Submit")
	// }

	formContainer.appendChild(form);


 



 function getDataElements(){
    getData().then(function(data) {
      console.log(data)
    });
  }


etDataElements()


  //function postData(){
            event.preventDefault();

         

          var inputs = document.getElementById("malaria");





	// return function(){
	// 	console.log()
	// 	var malariaForm = document.getElementById(json.dataSets[0].dataEntryForm.id);
	// 	malariaForm.addEventListener("onsubmit", function() {
	// 		// event.preventDefault();
	// 		console.log("submitButton")
	// 	})
	// }
// }

// closure(form())();
// var li = document.querySdataelector("div, .demo");
// // console.log(json.categoryOptions);
// json.dataElements.map(function(dataElement, index) {
// 	// console.log(dataElement);
	// var element = document.createElement("div");
	// element.textContent  = dataElement.name + ":";
	
// 	li.appendChild(element);
	// json.categoryOptions.map(function(categoryOption, indx) {
	// 	var input = document.createElement("input");
	// 	if(indx < 2) {
	// 		// console.log(categoryOption.id);
	// 		// console.log(categoryOption.name);
	// 		input.type = "number";
	// 		input.name = categoryOption.name;
	// 		input.id = categoryOption.id;

	// 		li.appendChild(input);
	// 	}
	// })

// });

// json.dataSets.map(function(dataSet, index) {
// 	// console.log(dataSet);
// 	// console.log(dataSet.dataEntryForm);
// 	// console.log(dataSet.name)
// 	dataSet.dataSetElements.map(function(dataSetElement, indx) {
// 		// console.log(dataSetElement.dataElement.id);
// 		// console.log(dataSetElement.dataSet.id);
// 	})
// });

// var list = [
// 	{
// 		id: "abcd",
// 		OrganisationName: "Matawale Health Center",
// 		period: ""
// 	},
// 	{
// 		id: "efg",
// 		OrganisationName: "Chanco Clinic",
// 		period: ""
// 	},
// 	{
// 		id: "hij",
// 		OrganisationName: "Zomba Policce College Clonic",
// 		period: ""
// 	},
// 	{
// 		id: "klm",
// 		OrganisationName: "Zomba Central Hospital",
// 		period: ""
// 	}
// ]

// 	var li = document.querySelector("div, .demo");
// 	for (var i = 0; i < list.length; i++) {
		// var element = document.createElement("div");
		// element.textContent  = list[i].OrganisationName + ":";
		
		// li.appendChild(element);

		// for(var j=0; j < 2; j++) {
			// var input = document.createElement("input");
			// var paragraph = document.crdemoeateElement("p");
			// paragraph.textContent = list[i].OrganisationName;
			// input.type = "text";
			// input.name = i;
			// input.id = list[i].id;

			// li.appendChild(input);
		// }
// 	}


	// var li1 = document.querySelector("div, .tablee");

	// for (var i = 0; i < list.length; i++) {
	// 	var input = document.createElement("input");
	// 	var paragraph = document.createElement("p");
	// 	paragraph.textContent = list[i].OrganisationName;
	// 	input.type = "text";
	// 	input.name = i;
	// 	input.id = list[i].id;

	// 	li1.appendChild(input);
	// }

// var malariaForm = document.getElementById("submit_form");
// malariaForm.addEventListener("onclick", function(event) {
// 	// event.preventDefault();
// 	console.log("submitButton")
// })